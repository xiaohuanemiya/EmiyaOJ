import com.emiyaoj.common.properties.JwtProperties;
import com.emiyaoj.common.utils.JwtUtil;
import com.emiyaoj.service.OjApplication;
import io.jsonwebtoken.Claims;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;

@SpringBootTest(classes = OjApplication.class)
public class JwtParseTest {
    @Autowired
    private JwtProperties jwtProperties;
    @Test
    public void testJwtParse() {
        String token =
                "eyJhbGciOiJIUzUxMiJ9.eyJ1c2VyTG9naW4iOiJ7XCJhY2NvdW50Tm9uRXhwaXJlZFwiOnRydWUsXCJhY2NvdW50Tm9uTG9ja2VkXCI6dHJ1ZSxcImNyZWRlbnRpYWxzTm9uRXhwaXJlZFwiOnRydWUsXCJlbmFibGVkXCI6dHJ1ZSxcInBhc3N3b3JkXCI6XCIkMmEkMTAkdWkwalo1cFkvLy9iQWlKSVMxTWtMZVdENHQvbktQYzNieEJPTHNnZ2xocVFzUTZhWDlpRmFcIixcInBlcm1pc3Npb25zXCI6W1wiVVNFUlwiLFwiVVNFUi5MSVNUXCIsXCJVU0VSLkFERFwiLFwiVVNFUi5ERUxFVEVcIixcIlVTRVIuRURJVFwiLFwiUk9MRVwiLFwiUk9MRS5MSVNUXCIsXCJST0xFLkFERFwiLFwiUk9MRS5ERUxFVEVcIixcIlJPTEUuRURJVFwiLFwiUk9MRS5BU1NJR05cIixcIlBFUk1JU1NJT05cIixcIlBFUk1JU1NJT04uTElTVFwiLFwiUEVSTUlTU0lPTi5BRERcIixcIlBFUk1JU1NJT04uREVMRVRFXCIsXCJQRVJNSVNTSU9OLkVESVRcIixcIlBFUk1JU1NJT04uQVNTSUdOXCIsXCJCTE9HXCIsXCJCTE9HLkxJU1RcIixcIkJMT0cuQUREXCIsXCJCTE9HLkRFTEVURVwiLFwiQkxPRy5FRElUXCIsXCJCTE9HLlNUQVJcIixcIkJMT0cuQ09NTUVOVFwiLFwiQ09NTUVOVC5MSVNUXCIsXCJDT01NRU5ULkFERFwiLFwiQ09NTUVOVC5ERUxFVEVcIixcIlBST0JMRU1cIixcIlBST0JMRU0uTElTVFwiLFwiUFJPQkxFTS5BRERcIixcIlBST0JMRU0uREVMRVRFXCIsXCJQUk9CTEVNLkVESVRcIixcIkxBTkdVQUdFXCIsXCJMQU5HVUFHRS5MSVNUXCIsXCJURVNUQ0FTRVwiLFwiVEVTVENBU0UuTElTVFwiLFwiVEVTVENBU0UuREVMRVRFXCIsXCJURVNUQ0FTRS5FRElUXCIsXCJURVNUQ0FTRS5BRERcIl0sXCJyb2xlc1wiOltcIlJPTEVfQURNSU5cIl0sXCJ1c2VyXCI6e1wiY3JlYXRlVGltZVwiOlwiMjAyNS0wOS0yNCAxNTowMTo1NVwiLFwiZGVsZXRlZFwiOjAsXCJpZFwiOjE5NzA3NDU0OTQ4NTczMTAyMTAsXCJuaWNrbmFtZVwiOlwiZW1peWFcIixcInBhc3N3b3JkXCI6XCIkMmEkMTAkdWkwalo1cFkvLy9iQWlKSVMxTWtMZVdENHQvbktQYzNieEJPTHNnZ2xocVFzUTZhWDlpRmFcIixcInN0YXR1c1wiOjEsXCJ1cGRhdGVUaW1lXCI6XCIyMDI1LTA5LTI0IDE1OjAxOjU1XCIsXCJ1c2VybmFtZVwiOlwiZW1peWFcIn0sXCJ1c2VybmFtZVwiOlwiZW1peWFcIn0iLCJleHAiOjE3NjU4ODYxODF9.BXMEuN19t_M1stHxNfOvfnc2aBgbcV6kMm2r1-k9brRJOcNDrg5a9ZO0dDKG8GlGz1WI6tC7iENFNVvN2J0dEQ";

        Claims claims = JwtUtil.parseJWT(jwtProperties.getSecretKey(), token);
        System.out.println("解析结果：" + claims);
    }
}
